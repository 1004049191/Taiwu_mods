using Harmony12;
using System;
using System.Collections.Generic;
using System.Linq;

namespace ModsCollection
{
    // 非太吾村民,也可邀為同道.  (把關係當作結義金蘭)
    [HarmonyPatch(typeof(MassageWindow), "SetMassageWindow")]
    public static class Patch1
    {
        static bool isFellow = false;
        public static void Prefix(int[] baseEventDate, int chooseId)
        {
//            Main.Logger.Log(string.Join(", ",Array.ConvertAll(baseEventDate, i => i.ToString())));
//            Main.Logger.Log( chooseId.ToString() );
//            int num = baseEventDate[2];
//            Main.Logger.Log(num.ToString());
//            int num2 = int.Parse(DateFile.instance.eventDate[num][2]);
//            Main.Logger.Log(num2.ToString());
//            int num3 = DateFile.instance.MianActorID();
//            Main.Logger.Log(num3.ToString());
//            int num4 = (num2 != 0) ? ((num2 != -1) ? num2 : num3) : baseEventDate[1];
//            Main.Logger.Log(num4.ToString());
//            int num5 = int.Parse(DateFile.instance.GetActorDate(num4, 19, false));
//            Main.Logger.Log(num5.ToString());
//            int gangValueId2 = DateFile.instance.GetGangValueId(num5, int.Parse(DateFile.instance.GetActorDate(num4, 20, false)));
//            Main.Logger.Log(gangValueId2.ToString());
//            Main.Logger.Log(DateFile.instance.presetGangGroupDateValue[gangValueId2].Select(x => String.Format("{0}:{1}", x.Key, x.Value)).ToArray().Join() );
//            Main.Logger.Log( DateFile.instance.presetGangGroupDateValue[gangValueId2][812] );

            if (Main.settings.patch1 == 0) return;
            if (chooseId != 1000000004) return; // 亲近……
            isFellow = DateFile.instance.GetActorSocial(DateFile.instance.MianActorID(), 308, false).Contains(baseEventDate[1]);
            if (!isFellow) DateFile.instance.AddSocial(DateFile.instance.MianActorID(), baseEventDate[1], 308);
        }
        public static void Postfix(int[] baseEventDate, int chooseId)
        {
            if (Main.settings.patch1 == 0) return;
            if (chooseId != 1000000004) return;
            if (!isFellow) DateFile.instance.RemoveActorSocial(DateFile.instance.MianActorID(), baseEventDate[1], 308);
        }
    }

    [HarmonyPatch(typeof(WindowManage), "WindowSwitch")]
    public static class WindowManage_WindowSwitch_Patch
    {
        [HarmonyAfter(new string[] { "CharacterFloatInfo" })]
        public static void Postfix(ref int ___tipsW)
        {
            if (Main.settings.patch3a && ___tipsW == 680) ___tipsW = 760;
        }
    }

    // 人口数量控制
    [HarmonyPatch(typeof(Loading), "LoadBaseDate")]
    public static class Loading_LoadBaseDate_Patch
    {
        public static void Postfix()
        {
//            Main.Logger.Log("Loading_LoadBaseDate_Patch");
            Patch2();
            Patch3();
            Patch4();
        }

        public static void Patch2()
        {
            if (Main.settings.patch2 == 0) return;

            switch (Main.settings.patch2)
            {
                case 0:
                    break;
                case 3:
                case 1:
                    DateFile.instance.actorFeaturesDate[4001][50024] = "1000"; //真阳纯阴
                    DateFile.instance.actorFeaturesDate[4002][50024] = "-1000"; //杂阳毁阴  
                    // 上面這樣執行,對有性經驗但沒孩子的人,造成不能生育!  而且原本單身的,變成高生育率. 開發思路有錯,待修改.

                    if (Main.settings.patch2 == 3) goto case 2;
                    break;
                case 2:
                    DateFile.instance.actorFeaturesDate[5001][50024] = "2000"; //璞玉韬光
                    DateFile.instance.actorFeaturesDate[5002][50024] = "2000"; //神锋敛彩
                    DateFile.instance.actorFeaturesDate[4004][50024] = "2000"; //被迫屈从
                    DateFile.instance.actorFeaturesDate[4005][50024] = "2000"; //龙岛忠仆
                    break;
            }
        }
        // 天才世界 & 天才血脈 
        public static void Patch3()
        {
            if (Main.settings.patch3b) //每月行動力100
            {
                foreach (int age in DateFile.instance.ageDate.Keys)
                {
                    DateFile.instance.ageDate[age][1] = "100";
                }
            }

            if (Main.settings.patch3a) //優質血脈遺傳
            {
                foreach (int FeatureId in DateFile.instance.actorFeaturesDate.Keys)
                {
                    if (DateFile.instance.actorFeaturesDate[FeatureId][4] == "3")
                    {
                        DateFile.instance.actorFeaturesDate[FeatureId][10] = "100";
                    }
                }
            }

            if (Main.settings.patch3c) //全世界都變天才
            {
                foreach (int age in DateFile.instance.ageDate.Keys)
                {
                    DateFile.instance.ageDate[age][2] = "200";
                    DateFile.instance.ageDate[age][3] = "200";
                    DateFile.instance.ageDate[age][4] = "200";
                    DateFile.instance.ageDate[age][5] = "200";
                    DateFile.instance.ageDate[age][6] = "200";
                    DateFile.instance.ageDate[age][7] = "200";
                    DateFile.instance.ageDate[age][101] = "120";
                    DateFile.instance.ageDate[age][102] = "120";
                    DateFile.instance.ageDate[age][103] = "120";
                    DateFile.instance.ageDate[age][104] = "120";
                    DateFile.instance.ageDate[age][105] = "120";
                    DateFile.instance.ageDate[age][106] = "120";
                    DateFile.instance.ageDate[age][107] = "120";
                    DateFile.instance.ageDate[age][108] = "120";
                    DateFile.instance.ageDate[age][109] = "120";
                    DateFile.instance.ageDate[age][110] = "120";
                    DateFile.instance.ageDate[age][111] = "120";
                    DateFile.instance.ageDate[age][112] = "120";
                }
            }
        }

        // 个人用合理向练功房
        public static void Patch4()
        {
//            Main.Logger.Log("Patch 4:"+Main.settings.patch4.ToString());
            if (Main.settings.patch4 == 0) return;

//            Main.Logger.Log("Patch start");
            FetchEvent("9013,城镇平民特殊互动,0,0,,1,901300001|901300002|901300003|901300004|901300005|901300006|901300007|901300008|901300009|901300010|1000011120|1000011130|1000011140,,,,0,,0");
//            Main.Logger.Log("Patch FetchEvent 9013");
            FetchEvent("9898,青梅竹马互动,0,0,要用我的功力来模拟相枢化身？不会有危险吧……,1,1000011111|1000011112|1000011113|1000011114|1000011115|1000011116|1000011117|1000011118|1000011119|900700001,,,,0,,0");
            FetchEvent("1000011110,,,-1,（相枢幻身……）\n<color=#4B4B4BFF>（消耗银钱：1000；消耗威望：1000；消耗时间：5）</color>,1,,FA&6|TIME&5,9898,TIME&5|RES&5&-1000|RES&6&-1000,0,,0");
            FetchEvent("1000011111,,,-1,请助我一臂之力！（化身·莫女衣……）,1,,,-1,BAT&100101&0,0,,0");
            FetchEvent("1000011112,,,-1,请助我一臂之力！（化身·伏邪铁……）,1,,,-1,BAT&100102&0,0,,0");
            FetchEvent("1000011113,,,-1,请助我一臂之力！（化身·大玄凝……）,1,,,-1,BAT&100103&0,0,,0");
            FetchEvent("1000011114,,,-1,请助我一臂之力！（化身·凤凰茧……）,1,,,-1,BAT&100104&0,0,,0");
            FetchEvent("1000011115,,,-1,请助我一臂之力！（化身·焚神炼……）,1,,,-1,BAT&100105&0,0,,0");
            FetchEvent("1000011116,,,-1,请助我一臂之力！（化身·解龙魄……）,1,,,-1,BAT&100106&0,0,,0");
            FetchEvent("1000011117,,,-1,请助我一臂之力！（化身·溶尘隐……）,1,,,-1,BAT&100107&0,0,,0");
            FetchEvent("1000011118,,,-1,请助我一臂之力！（化身·囚魔木……）,1,,,-1,BAT&100108&0,0,,0");
            FetchEvent("1000011119,,,-1,请助我一臂之力！（化身·鬼神霞……）,1,,,-1,BAT&100109&0,0,,0");
            FetchEvent("9899,剑冢类互动,0,0,什么，你还想去那么可怕的地方？,1,1000011121|1000011122|1000011123|1000011124|1000011125|1000011126|1000011127|1000011128|1000011129|900700001,,,,0,,0");
            FetchEvent("1000011120,,,-1,（剑冢再临……）,1,,TIME&20|FA&6,9899,,0,,0");
            FetchEvent("1000011121,,,-1,我自有分寸！（挑战·莫女衣……）\n<color=#4B4B4BFF>（副本消耗银钱：4000；消耗威望：4000；消耗时间：20）</color>,1,,,138,TIME&20|RES&5&-4000|RES&6&-4000&0,0,,0");
            FetchEvent("1000011122,,,-1,我自有分寸！（挑战·伏邪铁……）\n<color=#4B4B4BFF>（副本消耗银钱：4000；消耗威望：4000；消耗时间：20）</color>,1,,,139,TIME&20|RES&5&-4000|RES&6&-4000&0,0,,0");
            FetchEvent("1000011123,,,-1,我自有分寸！（挑战·大玄凝……）\n<color=#4B4B4BFF>（副本消耗银钱：4000；消耗威望：4000；消耗时间：20）</color>,1,,,140,TIME&20|RES&5&-4000|RES&6&-4000&0,0,,0");
            FetchEvent("1000011124,,,-1,我自有分寸！（挑战·凤凰茧……）\n<color=#4B4B4BFF>（副本消耗银钱：4000；消耗威望：4000；消耗时间：20）</color>,1,,,141,TIME&20|RES&5&-4000|RES&6&-4000&0,0,,0");
            FetchEvent("1000011125,,,-1,我自有分寸！（挑战·焚神炼……）\n<color=#4B4B4BFF>（副本消耗银钱：4000；消耗威望：4000；消耗时间：20）</color>,1,,,142,TIME&20|RES&5&-4000|RES&6&-4000&0,0,,0");
            FetchEvent("1000011126,,,-1,我自有分寸！（挑战·解龙魄……）\n<color=#4B4B4BFF>（副本消耗银钱：4000；消耗威望：4000；消耗时间：20）</color>,1,,,143,TIME&20|RES&5&-4000|RES&6&-4000&0,0,,0");
            FetchEvent("1000011127,,,-1,我自有分寸！（挑战·溶尘隐……）\n<color=#4B4B4BFF>（副本消耗银钱：4000；消耗威望：4000；消耗时间：20）</color>,1,,,144,TIME&20|RES&5&-4000|RES&6&-4000&0,0,,0");
            FetchEvent("1000011128,,,-1,我自有分寸！（挑战·囚魔木……）\n<color=#4B4B4BFF>（副本消耗银钱：4000；消耗威望：4000；消耗时间：20）</color>,1,,,145,TIME&20|RES&5&-4000|RES&6&-4000&0,0,,0");
            FetchEvent("1000011129,,,-1,我自有分寸！（挑战·鬼神霞……）\n<color=#4B4B4BFF>（副本消耗银钱：4000；消耗威望：4000；消耗时间：20）</color>,1,,,146,TIME&20|RES&5&-4000|RES&6&-4000&0,0,,0");
            FetchEvent("9900,副本类互动1,0,0,最近乡里又有宵小横行霸道，还请大侠代为清扫。,1,1000011131|1000011132|1000011133|1000011134|1000011135|1000011136|1000011137|1000011138|1000011139|900700001,,,,0,,0");
            FetchEvent("1000011130,,,-1,（清理宵小……）,1,,TIME&15|FA&4,9900,,0,,0");
            FetchEvent("1000011131,,,-1,还请为我指点道路！（清扫·恶丐窝点……）\n<color=#4B4B4BFF>（副本消耗银钱：100；消耗威望：100；消耗时间：15）</color>,1,,,2001,TIME&15|RES&5&-100|RES&6&-100&0,0,,0");
            FetchEvent("1000011132,,,-1,还请为我指点道路！（清扫·贼人营寨……）\n<color=#4B4B4BFF>（副本消耗银钱：200；消耗威望：200；消耗时间：15）</color>,1,,,2002,TIME&15|RES&5&-200|RES&6&-200&0,0,,0");
            FetchEvent("1000011133,,,-1,还请为我指点道路！（清扫·悍匪山砦……）\n<color=#4B4B4BFF>（副本消耗银钱：300；消耗威望：300；消耗时间：15）</color>,1,,,2003,TIME&15|RES&5&-300|RES&6&-300&0,0,,0");
            FetchEvent("1000011134,,,-1,还请为我指点道路！（清扫·叛徒结伙……）\n<color=#4B4B4BFF>（副本消耗银钱：400；消耗威望：400；消耗时间：15）</color>,1,,,2004,TIME&15|RES&5&-400|RES&6&-400&0,0,,0");
            FetchEvent("1000011135,,,-1,还请为我指点道路！（清扫·恶人深谷……）\n<color=#4B4B4BFF>（副本消耗银钱：600；消耗威望：600；消耗时间：15）</color>,1,,,2005,TIME&15|RES&5&-600|RES&6&-600&0,0,,0");
            FetchEvent("1000011136,,,-1,还请为我指点道路！（清扫·迷香幻阵……）\n<color=#4B4B4BFF>（副本消耗银钱：800；消耗威望：800；消耗时间：15）</color>,1,,,2006,TIME&15|RES&5&-800|RES&6&-800&0,0,,0");
            FetchEvent("1000011137,,,-1,还请为我指点道路！（清扫·乱葬坟岗……）\n<color=#4B4B4BFF>（副本消耗银钱：1000；消耗威望：1000；消耗时间：15）</color>,1,,,2007,TIME&15|RES&5&-1000|RES&6&-1000&0,0,,0");
            FetchEvent("1000011138,,,-1,还请为我指点道路！（清扫·异士居所……）\n<color=#4B4B4BFF>（副本消耗银钱：1200；消耗威望：1200；消耗时间：15）</color>,1,,,2008,TIME&15|RES&5&-1200|RES&6&-1200&0,0,,0");
            FetchEvent("1000011139,,,-1,还请为我指点道路！（清扫·邪人死地……）\n<color=#4B4B4BFF>（副本消耗银钱：1400；消耗威望：1400；消耗时间：15）</color>,1,,,2009,TIME&15|RES&5&-1400|RES&6&-1400&0,0,,0");
            FetchEvent("9901,副本类互动2,0,0,最近总有邪魔外道蠢蠢欲动，还请大侠代为清扫。,1,1000011141|1000011142|1000011143|900700001,,,,0,,0");
            FetchEvent("1000011140,,,-1,（剿灭邪道……）,1,,TIME&15|FA&4,9901,,0,,0");
            FetchEvent("1000011141,,,-1,还请为我指点道路！（清扫·修罗道场……）\n<color=#4B4B4BFF>（副本消耗银钱：1600；消耗威望：1600；消耗时间：15）</color>,1,,,2010,TIME&15|RES&5&-1600|RES&6&-1600&0,0,,0");
            FetchEvent("1000011142,,,-1,还请为我指点道路！（清扫·群魔乱舞……）\n<color=#4B4B4BFF>（副本消耗银钱：1800；消耗威望：1800；消耗时间：15）</color>,1,,,2011,TIME&15|RES&5&-1800|RES&6&-1800&0,0,,0");
            FetchEvent("1000011143,,,-1,还请为我指点道路！（清扫·弃世绝境……）\n<color=#4B4B4BFF>（副本消耗银钱：2000；消耗威望：2000；消耗时间：15）</color>,1,,,2012,TIME&15|RES&5&-2000|RES&6&-2000&0,0,,0");
            FetchEvent("9911,九品弟子互动,0,0,要用我的功力来模拟相枢化身？不会有危险吧……,1,1000099111|1000099112|1000099113|1000099114|1000099115|1000099116|1000099117|1000099118|1000099119|900700001,,,,0,,0");
            FetchEvent("1000099110,,,-1,（相枢幻身……）\n<color=#4B4B4BFF>（消耗银钱：1000；消耗威望：1000；消耗时间：5；消耗地区恩义：25%）</color>,1,,FA&6|TIME&5|AGV&250,9911,TIME&5|RES&5&-1000|RES&6&-1000|AGV&-250,0,,0");
            FetchEvent("1000099111,,,-1,请助我一臂之力！（化身·莫女衣……）,1,,,-1,BAT&100011&0,0,,0");
            FetchEvent("1000099112,,,-1,请助我一臂之力！（化身·伏邪铁……）,1,,,-1,BAT&100012&0,0,,0");
            FetchEvent("1000099113,,,-1,请助我一臂之力！（化身·大玄凝……）,1,,,-1,BAT&100013&0,0,,0");
            FetchEvent("1000099114,,,-1,请助我一臂之力！（化身·凤凰茧……）,1,,,-1,BAT&100014&0,0,,0");
            FetchEvent("1000099115,,,-1,请助我一臂之力！（化身·焚神炼……）,1,,,-1,BAT&100015&0,0,,0");
            FetchEvent("1000099116,,,-1,请助我一臂之力！（化身·解龙魄……）,1,,,-1,BAT&100016&0,0,,0");
            FetchEvent("1000099117,,,-1,请助我一臂之力！（化身·溶尘隐……）,1,,,-1,BAT&100017&0,0,,0");
            FetchEvent("1000099118,,,-1,请助我一臂之力！（化身·囚魔木……）,1,,,-1,BAT&100018&0,0,,0");
            FetchEvent("1000099119,,,-1,请助我一臂之力！（化身·鬼神霞……）,1,,,-1,BAT&100019&0,0,,0");
            FetchEvent("9912,八品弟子互动,0,0,要用我的功力来模拟相枢化身？不会有危险吧……,1,1000099121|1000099122|1000099123|1000099124|1000099125|1000099126|1000099127|1000099128|1000099129|900700001,,,,0,,0");
            FetchEvent("1000099120,,,-1,（相枢幻身……）\n<color=#4B4B4BFF>（消耗银钱：1000；消耗威望：1000；消耗时间：5；消耗地区恩义：25%）</color>,1,,FA&6|TIME&5|AGV&250,9912,TIME&5|RES&5&-1000|RES&6&-1000|AGV&-250,0,,0");
            FetchEvent("1000099121,,,-1,请助我一臂之力！（化身·莫女衣……）,1,,,-1,BAT&100021&0,0,,0");
            FetchEvent("1000099122,,,-1,请助我一臂之力！（化身·伏邪铁……）,1,,,-1,BAT&100022&0,0,,0");
            FetchEvent("1000099123,,,-1,请助我一臂之力！（化身·大玄凝……）,1,,,-1,BAT&100023&0,0,,0");
            FetchEvent("1000099124,,,-1,请助我一臂之力！（化身·凤凰茧……）,1,,,-1,BAT&100024&0,0,,0");
            FetchEvent("1000099125,,,-1,请助我一臂之力！（化身·焚神炼……）,1,,,-1,BAT&100025&0,0,,0");
            FetchEvent("1000099126,,,-1,请助我一臂之力！（化身·解龙魄……）,1,,,-1,BAT&100026&0,0,,0");
            FetchEvent("1000099127,,,-1,请助我一臂之力！（化身·溶尘隐……）,1,,,-1,BAT&100027&0,0,,0");
            FetchEvent("1000099128,,,-1,请助我一臂之力！（化身·囚魔木……）,1,,,-1,BAT&100028&0,0,,0");
            FetchEvent("1000099129,,,-1,请助我一臂之力！（化身·鬼神霞……）,1,,,-1,BAT&100029&0,0,,0");
            FetchEvent("9913,七品弟子互动,0,0,要用我的功力来模拟相枢化身？不会有危险吧……,1,1000099131|1000099132|1000099133|1000099134|1000099135|1000099136|1000099137|1000099138|1000099139|900700001,,,,0,,0");
            FetchEvent("1000099130,,,-1,（相枢幻身……）\n<color=#4B4B4BFF>（消耗银钱：1000；消耗威望：1000；消耗时间：5；消耗地区恩义：25%）</color>,1,,FA&6|TIME&5|AGV&250,9913,TIME&5|RES&5&-1000|RES&6&-1000|AGV&-250,0,,0");
            FetchEvent("1000099131,,,-1,请助我一臂之力！（化身·莫女衣……）,1,,,-1,BAT&100031&0,0,,0");
            FetchEvent("1000099132,,,-1,请助我一臂之力！（化身·伏邪铁……）,1,,,-1,BAT&100032&0,0,,0");
            FetchEvent("1000099133,,,-1,请助我一臂之力！（化身·大玄凝……）,1,,,-1,BAT&100033&0,0,,0");
            FetchEvent("1000099134,,,-1,请助我一臂之力！（化身·凤凰茧……）,1,,,-1,BAT&100034&0,0,,0");
            FetchEvent("1000099135,,,-1,请助我一臂之力！（化身·焚神炼……）,1,,,-1,BAT&100035&0,0,,0");
            FetchEvent("1000099136,,,-1,请助我一臂之力！（化身·解龙魄……）,1,,,-1,BAT&100036&0,0,,0");
            FetchEvent("1000099137,,,-1,请助我一臂之力！（化身·溶尘隐……）,1,,,-1,BAT&100037&0,0,,0");
            FetchEvent("1000099138,,,-1,请助我一臂之力！（化身·囚魔木……）,1,,,-1,BAT&100038&0,0,,0");
            FetchEvent("1000099139,,,-1,请助我一臂之力！（化身·鬼神霞……）,1,,,-1,BAT&100039&0,0,,0");
            FetchEvent("9914,六品弟子互动,0,0,要用我的功力来模拟相枢化身？不会有危险吧……,1,1000099141|1000099142|1000099143|1000099144|1000099145|1000099146|1000099147|1000099148|1000099149|900700001,,,,0,,0");
            FetchEvent("1000099140,,,-1,（相枢幻身……）\n<color=#4B4B4BFF>（消耗银钱：1000；消耗威望：1000；消耗时间：5；消耗地区恩义：25%）</color>,1,,FA&6|TIME&5|AGV&250,9914,TIME&5|RES&5&-1000|RES&6&-1000|AGV&-250,0,,0");
            FetchEvent("1000099141,,,-1,请助我一臂之力！（化身·莫女衣……）,1,,,-1,BAT&100041&0,0,,0");
            FetchEvent("1000099142,,,-1,请助我一臂之力！（化身·伏邪铁……）,1,,,-1,BAT&100042&0,0,,0");
            FetchEvent("1000099143,,,-1,请助我一臂之力！（化身·大玄凝……）,1,,,-1,BAT&100043&0,0,,0");
            FetchEvent("1000099144,,,-1,请助我一臂之力！（化身·凤凰茧……）,1,,,-1,BAT&100044&0,0,,0");
            FetchEvent("1000099145,,,-1,请助我一臂之力！（化身·焚神炼……）,1,,,-1,BAT&100045&0,0,,0");
            FetchEvent("1000099146,,,-1,请助我一臂之力！（化身·解龙魄……）,1,,,-1,BAT&100046&0,0,,0");
            FetchEvent("1000099147,,,-1,请助我一臂之力！（化身·溶尘隐……）,1,,,-1,BAT&100047&0,0,,0");
            FetchEvent("1000099148,,,-1,请助我一臂之力！（化身·囚魔木……）,1,,,-1,BAT&100048&0,0,,0");
            FetchEvent("1000099149,,,-1,请助我一臂之力！（化身·鬼神霞……）,1,,,-1,BAT&100049&0,0,,0");
            FetchEvent("9915,五品弟子互动,0,0,要用我的功力来模拟相枢化身？不会有危险吧……,1,1000099151|1000099152|1000099153|1000099154|1000099155|1000099156|1000099157|1000099158|1000099159|900700001,,,,0,,0");
            FetchEvent("1000099150,,,-1,（相枢幻身……）\n<color=#4B4B4BFF>（消耗银钱：1000；消耗威望：1000；消耗时间：5；消耗地区恩义：25%）</color>,1,,FA&6|TIME&5|AGV&250,9915,TIME&5|RES&5&-1000|RES&6&-1000|AGV&-250,0,,0");
            FetchEvent("1000099151,,,-1,请助我一臂之力！（化身·莫女衣……）,1,,,-1,BAT&100051&0,0,,0");
            FetchEvent("1000099152,,,-1,请助我一臂之力！（化身·伏邪铁……）,1,,,-1,BAT&100052&0,0,,0");
            FetchEvent("1000099153,,,-1,请助我一臂之力！（化身·大玄凝……）,1,,,-1,BAT&100053&0,0,,0");
            FetchEvent("1000099154,,,-1,请助我一臂之力！（化身·凤凰茧……）,1,,,-1,BAT&100054&0,0,,0");
            FetchEvent("1000099155,,,-1,请助我一臂之力！（化身·焚神炼……）,1,,,-1,BAT&100055&0,0,,0");
            FetchEvent("1000099156,,,-1,请助我一臂之力！（化身·解龙魄……）,1,,,-1,BAT&100056&0,0,,0");
            FetchEvent("1000099157,,,-1,请助我一臂之力！（化身·溶尘隐……）,1,,,-1,BAT&100057&0,0,,0");
            FetchEvent("1000099158,,,-1,请助我一臂之力！（化身·囚魔木……）,1,,,-1,BAT&100058&0,0,,0");
            FetchEvent("1000099159,,,-1,请助我一臂之力！（化身·鬼神霞……）,1,,,-1,BAT&100059&0,0,,0");
            FetchEvent("9916,四品弟子互动,0,0,要用我的功力来模拟相枢化身？不会有危险吧……,1,1000099161|1000099162|1000099163|1000099164|1000099165|1000099166|1000099167|1000099168|1000099169|900700001,,,,0,,0");
            FetchEvent("1000099160,,,-1,（相枢幻身……）\n<color=#4B4B4BFF>（消耗银钱：1000；消耗威望：1000；消耗时间：5；消耗地区恩义：25%）</color>,1,,FA&6|TIME&5|AGV&250,9916,TIME&5|RES&5&-1000|RES&6&-1000|AGV&-250,0,,0");
            FetchEvent("1000099161,,,-1,请助我一臂之力！（化身·莫女衣……）,1,,,-1,BAT&100061&0,0,,0");
            FetchEvent("1000099162,,,-1,请助我一臂之力！（化身·伏邪铁……）,1,,,-1,BAT&100062&0,0,,0");
            FetchEvent("1000099163,,,-1,请助我一臂之力！（化身·大玄凝……）,1,,,-1,BAT&100063&0,0,,0");
            FetchEvent("1000099164,,,-1,请助我一臂之力！（化身·凤凰茧……）,1,,,-1,BAT&100064&0,0,,0");
            FetchEvent("1000099165,,,-1,请助我一臂之力！（化身·焚神炼……）,1,,,-1,BAT&100065&0,0,,0");
            FetchEvent("1000099166,,,-1,请助我一臂之力！（化身·解龙魄……）,1,,,-1,BAT&100066&0,0,,0");
            FetchEvent("1000099167,,,-1,请助我一臂之力！（化身·溶尘隐……）,1,,,-1,BAT&100067&0,0,,0");
            FetchEvent("1000099168,,,-1,请助我一臂之力！（化身·囚魔木……）,1,,,-1,BAT&100068&0,0,,0");
            FetchEvent("1000099169,,,-1,请助我一臂之力！（化身·鬼神霞……）,1,,,-1,BAT&100069&0,0,,0");
            FetchEvent("9917,三品弟子互动,0,0,要用我的功力来模拟相枢化身？不会有危险吧……,1,1000099171|1000099172|1000099173|1000099174|1000099175|1000099176|1000099177|1000099178|1000099179|900700001,,,,0,,0");
            FetchEvent("1000099170,,,-1,（相枢幻身……）\n<color=#4B4B4BFF>（消耗银钱：1000；消耗威望：1000；消耗时间：5；消耗地区恩义：25%）</color>,1,,FA&6|TIME&5|AGV&250,9917,TIME&5|RES&5&-1000|RES&6&-1000|AGV&-250,0,,0");
            FetchEvent("1000099171,,,-1,请助我一臂之力！（化身·莫女衣……）,1,,,-1,BAT&100071&0,0,,0");
            FetchEvent("1000099172,,,-1,请助我一臂之力！（化身·伏邪铁……）,1,,,-1,BAT&100072&0,0,,0");
            FetchEvent("1000099173,,,-1,请助我一臂之力！（化身·大玄凝……）,1,,,-1,BAT&100073&0,0,,0");
            FetchEvent("1000099174,,,-1,请助我一臂之力！（化身·凤凰茧……）,1,,,-1,BAT&100074&0,0,,0");
            FetchEvent("1000099175,,,-1,请助我一臂之力！（化身·焚神炼……）,1,,,-1,BAT&100075&0,0,,0");
            FetchEvent("1000099176,,,-1,请助我一臂之力！（化身·解龙魄……）,1,,,-1,BAT&100076&0,0,,0");
            FetchEvent("1000099177,,,-1,请助我一臂之力！（化身·溶尘隐……）,1,,,-1,BAT&100077&0,0,,0");
            FetchEvent("1000099178,,,-1,请助我一臂之力！（化身·囚魔木……）,1,,,-1,BAT&100078&0,0,,0");
            FetchEvent("1000099179,,,-1,请助我一臂之力！（化身·鬼神霞……）,1,,,-1,BAT&100079&0,0,,0");
            FetchEvent("9918,二品弟子互动,0,0,要用我的功力来模拟相枢化身？不会有危险吧……,1,1000099181|1000099182|1000099183|1000099184|1000099185|1000099186|1000099187|1000099188|1000099189|900700001,,,,0,,0");
            FetchEvent("1000099180,,,-1,（相枢幻身……）\n<color=#4B4B4BFF>（消耗银钱：1000；消耗威望：1000；消耗时间：5；消耗地区恩义：25%）</color>,1,,FA&6|TIME&5|AGV&250,9918,TIME&5|RES&5&-1000|RES&6&-1000|AGV&-250,0,,0");
            FetchEvent("1000099181,,,-1,请助我一臂之力！（化身·莫女衣……）,1,,,-1,BAT&100081&0,0,,0");
            FetchEvent("1000099182,,,-1,请助我一臂之力！（化身·伏邪铁……）,1,,,-1,BAT&100082&0,0,,0");
            FetchEvent("1000099183,,,-1,请助我一臂之力！（化身·大玄凝……）,1,,,-1,BAT&100083&0,0,,0");
            FetchEvent("1000099184,,,-1,请助我一臂之力！（化身·凤凰茧……）,1,,,-1,BAT&100084&0,0,,0");
            FetchEvent("1000099185,,,-1,请助我一臂之力！（化身·焚神炼……）,1,,,-1,BAT&100085&0,0,,0");
            FetchEvent("1000099186,,,-1,请助我一臂之力！（化身·解龙魄……）,1,,,-1,BAT&100086&0,0,,0");
            FetchEvent("1000099187,,,-1,请助我一臂之力！（化身·溶尘隐……）,1,,,-1,BAT&100087&0,0,,0");
            FetchEvent("1000099188,,,-1,请助我一臂之力！（化身·囚魔木……）,1,,,-1,BAT&100088&0,0,,0");
            FetchEvent("1000099189,,,-1,请助我一臂之力！（化身·鬼神霞……）,1,,,-1,BAT&100089&0,0,,0");
            FetchEvent("9919,一品弟子互动,0,0,要用我的功力来模拟相枢化身？不会有危险吧……,1,1000099191|1000099192|1000099193|1000099194|1000099195|1000099196|1000099197|1000099198|1000099199|900700001,,,,0,,0");
            FetchEvent("1000099190,,,-1,（相枢幻身……）\n<color=#4B4B4BFF>（消耗银钱：1000；消耗威望：1000；消耗时间：5；消耗地区恩义：25%）</color>,1,,FA&6|TIME&5|AGV&250,9919,TIME&5|RES&5&-1000|RES&6&-1000|AGV&-250,0,,0");
            FetchEvent("1000099191,,,-1,请助我一臂之力！（化身·莫女衣……）,1,,,-1,BAT&100091&0,0,,0");
            FetchEvent("1000099192,,,-1,请助我一臂之力！（化身·伏邪铁……）,1,,,-1,BAT&100092&0,0,,0");
            FetchEvent("1000099193,,,-1,请助我一臂之力！（化身·大玄凝……）,1,,,-1,BAT&100093&0,0,,0");
            FetchEvent("1000099194,,,-1,请助我一臂之力！（化身·凤凰茧……）,1,,,-1,BAT&100094&0,0,,0");
            FetchEvent("1000099195,,,-1,请助我一臂之力！（化身·焚神炼……）,1,,,-1,BAT&100095&0,0,,0");
            FetchEvent("1000099196,,,-1,请助我一臂之力！（化身·解龙魄……）,1,,,-1,BAT&100096&0,0,,0");
            FetchEvent("1000099197,,,-1,请助我一臂之力！（化身·溶尘隐……）,1,,,-1,BAT&100097&0,0,,0");
            FetchEvent("1000099198,,,-1,请助我一臂之力！（化身·囚魔木……）,1,,,-1,BAT&100098&0,0,,0");
            FetchEvent("1000099199,,,-1,请助我一臂之力！（化身·鬼神霞……）,1,,,-1,BAT&100099&0,0,,0");

            //给血犼教弟子添加不同等级的相枢化身
            FetchGangGroupValue("0,0,无,0,0,0,9,9,0,0,0&0&0,,,0,0,0,0,0,0,1000011110,0,0,0,0,0,0,0,0,0&0,0&0,0,0,0|0|0|0|0|0|0,0,10,0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0,0|0|0|0|0|0|0|0|0|0|0|0|0|0,0|0|0|0|0|0,0");
            FetchGangGroupValue("1,5,村民,0,0,0,9,9,0,0,0&0&0,,,0,0,0,0,0,-100,1000011120|1000011120,0,0,0,0,1,0,0,0,0&0,0&0,0,0,-50|-50|-50|-50|-50|-50|-50,0,100,0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0,0|0|0|0|0|0|0|0|0|0|0|0|0|0,0|0|0|0|0|0,0");
            FetchGangGroupValue("11,1,城主,0,0,1,2,2,0,0,0&0&0,,,0,225,0,0,0,-100,901300001|1000011130|1000011140,0,0,城主老爷,城主夫人,0,7009|7009|7009,35,0,71&1|100143&3|200001&3|200043&3|200127&3|100501&1|100510&1,0&0,0,0,480|480|480|480|480|1200|400,6400,20,0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0,0|0|0|0|0|0|0|0|0|0|0|0|0|0,0|0|0|0|0|0,73709");
            FetchGangGroupValue("21,1,村长,0,0,1,2,2,0,0,0&0&0,,,0,225,0,0,0,-100,901300001|1000011130|1000011140,0,0,村长老爷,村长夫人,0,7009|7009|7009,35,0,71&1|200001&3|200043&3|200127&3|100501&1|100510&1,0&0,0,0,240|240|240|240|240|720|160,4000,20,0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0,0|0|0|0|0|0|0|0|0|0|0|0|0|0,0|0|0|0|0|0,73705");
            FetchGangGroupValue("31,1,镇长,0,0,1,2,2,0,0,0&0&0,,,0,225,0,0,0,-100,901300001|1000011130|1000011140,0,0,镇长老爷,镇长夫人,0,7009|7009|7009,35,0,71&1|100137&3|200001&3|200043&3|200127&3|100501&1|100510&1,0&0,0,0,400|400|400|400|400|1040|320,5600,20,0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0,0|0|0|0|0|0|0|0|0|0|0|0|0|0,0|0|0|0|0|0,73708");
            FetchGangGroupValue("41,1,大当家,0,0,1,3,3,0,0,0&0&0,,,0,225,0,0,0,-100,901300001|1000011130|1000011140,0,0,大老爷,大奶奶,0,7009|7009|7009,35,0,71&1|100137&3|200001&3|200043&3|200127&3|100501&1|100510&1,0&0,0,0,320|320|320|320|320|880|240,4800,20,0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0,0|0|0|0|0|0|0|0|0|0|0|0|0|0,0|0|0|0|0|0,73708");
            FetchGangGroupValue("1501,1,教主,0,0,3,4,3,0,0,0&0&0,,,7100,450,450,18,-50,0,901200005|1000099190,901000006,932900002|932300004,教主相公,教主夫人,0,8501|8501|8501|8501,20,127,10501&1|100010&3|100028&3|100101&3|100113&3|100125&3|100143&3|200043&3,1501&9|11501&5|21501&9|31501&8|41501&7|51501&8|61501&7,32,-320,600|0|0|0|400|1000|900,5400,15,0|0|0|0|0|90|-60|-60|0|90|0|0|0|0|0|0,120|60|120|120|90|120|90|0|0|0|0|0|0|0,120|90|90|0|0|-60,73909");
            FetchGangGroupValue("1502,1,副教主,0,0,3,4,3,1,0,0&0&0,,,5100,360,360,15,-40,0,1000099180,901000006,932900002|932300004,副教主相公,副教主夫人,0,8502|8502|8502|8502,25,128,10501&1|100010&3|100028&3|100101&3|100113&3|100125&3|100143&3|200043&3,1501&8|11501&5|21501&8|31501&7|41501&7|51501&7|61501&7,29,-280,400|0|0|0|300|800|600,4800,15,0|0|0|0|0|75|-60|-60|0|75|0|0|0|0|0|0,100|50|100|100|75|100|75|0|0|0|0|0|0|0,100|75|75|0|0|-60,73909");
            FetchGangGroupValue("1503,6,长老,0,0,0,4,3,1,0,0&0&0,,,3600,280,280,12,-40,0,1000099170,901000006,932900002|932300004,0,0,0,8503|8503|8503|8503,35,129,10501&1|100010&3|100028&3|100101&3|100113&3|100125&3|100143&3|200043&3,1501&7|11501&4|21501&7|31501&7|41501&6|51501&7|61501&6,26,-240,300|0|0|0|200|600|300,4200,15,0|0|0|0|0|65|-60|-60|0|65|0|0|0|0|0|0,85|45|85|85|65|85|65|0|0|0|0|0|0|0,85|65|65|0|0|-60,73909");
            FetchGangGroupValue("1504,3,血犼圣使,0,0,0,4,4,2,0,0&0&0,,,1800,210,210,9,-30,0,1000099160,901000006,932900002|932300004,0,0,1,8504|8504|8504,20,130,10501&1|100010&3|100028&3|100101&3|100113&3|100125&3|100143&3|200043&3,1501&6|11501&4|21501&6|51501&6|61501&6,17,-200,200|0|0|0|150|400|200,3600,15,0|0|0|0|0|55|-60|-60|0|55|0|0|0|0|0|0,70|40|70|70|55|70|55|0|0|0|0|0|0|0,70|55|55|0|0|-60,73809");
            FetchGangGroupValue("1505,6,护法,0,0,0,6,5,3,0,0&0&0,,,1200,150,150,6,-30,0,1000099150,901000006,932900002|932300004,0,0,1,8505|8505|8505,20,131,10501&1|100010&3|100028&3|100101&3|100113&3|100125&3|200043&3,1501&5|11501&4|21501&5|31501&5|41501&5|51501&5,17,-160,100|0|0|0|100|200|100,3000,15,0|0|0|0|0|45|-60|-60|0|45|0|0|0|0|0|0,60|35|60|60|45|60|45|0|0|0|0|0|0|0,60|45|45|0|0|-60,73809");
            FetchGangGroupValue("1506,12,血童子,0,0,0,7,6,4,0,0&0&0,,,800,100,100,3,-20,0,1000099140,901000006,932900002|932300004,0,0,1,8506|8506|8506,10,132,10501&1|100010&3|100028&3|100101&3|100113&3|100125&3|200043&3,1501&4|11501&3|21501&4|41501&4|61501&4,11,-120,50|0|0|0|50|100|0,2400,15,0|0|0|0|0|40|-60|-60|0|40|0|0|0|0|0|0,50|30|50|50|40|50|40|0|0|0|0|0|0|0,50|40|40|0|0|-60,73809");
            FetchGangGroupValue("1507,10,精英,0,0,0,8,7,5,0,0&0&0,,,300,60,60,1,-20,0,1000099130,901000006,932900002|932300004,0,0,1,8507|8507|8507,20,133,0&0|100010&3|100028&3|100101&3|100113&3|100125&3|200043&3,1501&3|11501&3|21501&3|31501&3|61501&3,9,-80,0|0|0|0|0|50|0,1800,15,0|0|0|0|0|35|-60|-60|0|35|0|0|0|0|0|0,45|25|45|45|35|45|35|0|0|0|0|0|0|0,45|35|35|0|0|-60,73809");
            FetchGangGroupValue("1508,16,教众,0,0,0,8,8,6,0,0&0&0,,,200,30,30,0,-20,0,1000099120,901000006,932900002|932300004,0,0,1,8507|8507,10,134,0&0|100028&3|100101&3|200043&3,1501&2|11501&2|21501&2|51501&2|61501&2,6,-40,0|0|0|0|0|0|0,1200,15,0|0|0|0|0|30|-60|-60|0|30|0|0|0|0|0|0,40|20|40|40|30|40|30|0|0|0|0|0|0|0,40|30|30|0|0|-60,73809");
            FetchGangGroupValue("1509,10,杂役,0,0,0,9,9,7,0,0&0&0,,,100,10,10,0,-10,0,1000099110,901000006,932900002|932300004,0,0,1,8507,10,135,0&0|100028&3|200043&3,1501&1|11501&1|31501&1,2,0,-50|-50|-50|-50|-50|-50|-50,600,15,0|0|0|0|0|25|-60|-60|0|25|0|0|0|0|0|0,35|15|35|35|25|35|25|0|0|0|0|0|0|0,35|25|25|0|0|-60,73809");

            //添加隊伍
            FetchEnemyTeam("100011,0,0,1,0,0,300,2001,0|0,6003|6002|6001,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100012,0,0,1,0,0,300,2002,0|0,6003|6002|6001,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100013,0,0,1,0,0,300,2003,0|0,6003|6002|6001,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100014,0,0,1,0,0,300,2004,0|0,6003|6002|6001,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100015,0,0,1,0,0,300,2005,0|0,6003|6002|6001,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100016,0,0,1,0,0,300,2006,0|0,6003|6002|6001,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100017,0,0,1,0,0,300,2007,0|0,6003|6002|6001,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100018,0,0,1,0,0,300,2008,0|0,6003|6002|6001,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100019,0,0,1,0,0,300,2009,0|0,6003|6002|6001,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100021,0,0,2,0,0,300,2001,0|0,6004|6003|6002,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100022,0,0,2,0,0,300,2002,0|0,6004|6003|6002,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100023,0,0,2,0,0,300,2003,0|0,6004|6003|6002,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100024,0,0,2,0,0,300,2004,0|0,6004|6003|6002,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100025,0,0,2,0,0,300,2005,0|0,6004|6003|6002,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100026,0,0,2,0,0,300,2006,0|0,6004|6003|6002,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100027,0,0,2,0,0,300,2007,0|0,6004|6003|6002,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100028,0,0,2,0,0,300,2008,0|0,6004|6003|6002,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100029,0,0,2,0,0,300,2009,0|0,6004|6003|6002,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100031,0,0,3,0,0,300,2001,0|0,6005|6004|6003,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100032,0,0,3,0,0,300,2002,0|0,6005|6004|6003,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100033,0,0,3,0,0,300,2003,0|0,6005|6004|6003,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100034,0,0,3,0,0,300,2004,0|0,6005|6004|6003,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100035,0,0,3,0,0,300,2005,0|0,6005|6004|6003,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100036,0,0,3,0,0,300,2006,0|0,6005|6004|6003,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100037,0,0,3,0,0,300,2007,0|0,6005|6004|6003,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100038,0,0,3,0,0,300,2008,0|0,6005|6004|6003,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100039,0,0,3,0,0,300,2009,0|0,6005|6004|6003,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100041,0,0,4,0,0,300,2001,0|0,6006|6005|6004,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100042,0,0,4,0,0,300,2002,0|0,6006|6005|6004,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100043,0,0,4,0,0,300,2003,0|0,6006|6005|6004,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100044,0,0,4,0,0,300,2004,0|0,6006|6005|6004,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100045,0,0,4,0,0,300,2005,0|0,6006|6005|6004,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100046,0,0,4,0,0,300,2006,0|0,6006|6005|6004,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100047,0,0,4,0,0,300,2007,0|0,6006|6005|6004,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100048,0,0,4,0,0,300,2008,0|0,6006|6005|6004,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100049,0,0,4,0,0,300,2009,0|0,6006|6005|6004,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100051,0,0,5,0,0,300,2001,0|0,6007|6006|6005,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100052,0,0,5,0,0,300,2002,0|0,6007|6006|6005,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100053,0,0,5,0,0,300,2003,0|0,6007|6006|6005,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100054,0,0,5,0,0,300,2004,0|0,6007|6006|6005,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100055,0,0,5,0,0,300,2005,0|0,6007|6006|6005,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100056,0,0,5,0,0,300,2006,0|0,6007|6006|6005,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100057,0,0,5,0,0,300,2007,0|0,6007|6006|6005,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100058,0,0,5,0,0,300,2008,0|0,6007|6006|6005,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100059,0,0,5,0,0,300,2009,0|0,6007|6006|6005,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100061,0,0,6,0,0,300,2001,0|0,6008|6007|6006,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100062,0,0,6,0,0,300,2002,0|0,6008|6007|6006,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100063,0,0,6,0,0,300,2003,0|0,6008|6007|6006,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100064,0,0,6,0,0,300,2004,0|0,6008|6007|6006,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100065,0,0,6,0,0,300,2005,0|0,6008|6007|6006,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100066,0,0,6,0,0,300,2006,0|0,6008|6007|6006,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100067,0,0,6,0,0,300,2007,0|0,6008|6007|6006,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100068,0,0,6,0,0,300,2008,0|0,6008|6007|6006,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100069,0,0,6,0,0,300,2009,0|0,6008|6007|6006,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100071,0,0,7,0,0,300,2001,0|0,6009|6008|6007,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100072,0,0,7,0,0,300,2002,0|0,6009|6008|6007,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100073,0,0,7,0,0,300,2003,0|0,6009|6008|6007,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100074,0,0,7,0,0,300,2004,0|0,6009|6008|6007,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100075,0,0,7,0,0,300,2005,0|0,6009|6008|6007,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100076,0,0,7,0,0,300,2006,0|0,6009|6008|6007,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100077,0,0,7,0,0,300,2007,0|0,6009|6008|6007,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100078,0,0,7,0,0,300,2008,0|0,6009|6008|6007,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100079,0,0,7,0,0,300,2009,0|0,6009|6008|6007,100,40,0,3,0,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100081,0,0,8,0,0,300,2001,0|0,6009|6008|6008,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100082,0,0,8,0,0,300,2002,0|0,6009|6008|6008,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100083,0,0,8,0,0,300,2003,0|0,6009|6008|6008,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100084,0,0,8,0,0,300,2004,0|0,6009|6008|6008,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100085,0,0,8,0,0,300,2005,0|0,6009|6008|6008,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100086,0,0,8,0,0,300,2006,0|0,6009|6008|6008,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100087,0,0,8,0,0,300,2007,0|0,6009|6008|6008,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100088,0,0,8,0,0,300,2008,0|0,6009|6008|6008,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100089,0,0,8,0,0,300,2009,0|0,6009|6008|6008,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100091,0,0,9,0,0,300,2001,0|0,6009|6009|6009,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100092,0,0,9,0,0,300,2002,0|0,6009|6009|6009,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100093,0,0,9,0,0,300,2003,0|0,6009|6009|6009,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100094,0,0,9,0,0,300,2004,0|0,6009|6009|6009,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100095,0,0,9,0,0,300,2005,0|0,6009|6009|6009,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100096,0,0,9,0,0,300,2006,0|0,6009|6009|6009,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100097,0,0,9,0,0,300,2007,0|0,6009|6009|6009,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100098,0,0,9,0,0,300,2008,0|0,6009|6009|6009,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100099,0,0,9,0,0,300,2009,0|0,6009|6009|6009,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100101,0,0,10,0,0,300,2001,0|0,6009|6009|6009,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100102,0,0,10,0,0,300,2002,0|0,6009|6009|6009,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100103,0,0,10,0,0,300,2003,0|0,6009|6009|6009,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100104,0,0,10,0,0,300,2004,0|0,6009|6009|6009,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100105,0,0,10,0,0,300,2005,0|0,6009|6009|6009,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100106,0,0,10,0,0,300,2006,0|0,6009|6009|6009,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100107,0,0,10,0,0,300,2007,0|0,6009|6009|6009,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100108,0,0,10,0,0,300,2008,0|0,6009|6009|6009,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");
            FetchEnemyTeam("100109,0,0,10,0,0,300,2009,0|0,6009|6009|6009,100,40,0,3,1,100,1,1,-1,100,0,3,176&1,185&1,186&1");

//            Main.Logger.Log("Patch 4 loaded");
        }

        public static void FetchEnemyTeam(string data)
        {
            int[] keys = Array.ConvertAll("99,6,7,15,17,16,1,12,2,10,3,4,5,8,9,11,13,14,23,97,98,101,102,103".Split(','), int.Parse);
            string[] fields = data.Split(',');
            if (!DateFile.instance.enemyTeamDate.ContainsKey(int.Parse(fields[0]))) DateFile.instance.enemyTeamDate.Add(int.Parse(fields[0]), new Dictionary<int, string>());
//            Main.Logger.Log(DateFile.instance.enemyTeamDate[int.Parse(fields[0])].Select(x => String.Format("{0}:{1}", x.Key, x.Value)).ToArray().Join());
            for (int i = 1; i <= keys.Length; i++)
            {
                if (!DateFile.instance.enemyTeamDate[int.Parse(fields[0])].ContainsKey(keys[i - 1])) DateFile.instance.enemyTeamDate[int.Parse(fields[0])].Add(keys[i - 1], "");
                DateFile.instance.enemyTeamDate[int.Parse(fields[0])][keys[i-1]] = fields[i];
            }
//            Main.Logger.Log(DateFile.instance.enemyTeamDate[int.Parse(fields[0])].Select(x => String.Format("{0}:{1}", x.Key, x.Value)).ToArray().Join());
//            Main.Logger.Log("FetchEnemyTeam:" + fields[0]);
        }

        public static void FetchGangGroupValue(string data)
        {
            int[] keys = Array.ConvertAll("1,1001,101,801,802,803,804,805,806,807,808,809,810,815,816,817,819,811,812,818,813,1002,1003,201,301,401,501,502,601,602,701,711,712,713,721,731,741,751".Split(','), int.Parse);
            string[] fields = data.Split(',');
            if (!DateFile.instance.presetGangGroupDateValue.ContainsKey(int.Parse(fields[0]))) DateFile.instance.presetGangGroupDateValue.Add(int.Parse(fields[0]), new Dictionary<int, string>());
            //            Main.Logger.Log(DateFile.instance.presetGangGroupDateValue[int.Parse(fields[0])].Select(x => String.Format("{0}:{1}", x.Key, x.Value)).ToArray().Join());
            for (int i = 1; i <= keys.Length; i++)
            {
                if (!DateFile.instance.presetGangGroupDateValue[int.Parse(fields[0])].ContainsKey(keys[i - 1])) DateFile.instance.presetGangGroupDateValue[int.Parse(fields[0])].Add(keys[i - 1], "");
                DateFile.instance.presetGangGroupDateValue[int.Parse(fields[0])][keys[i-1]] = fields[i];
            }
//            Main.Logger.Log(DateFile.instance.presetGangGroupDateValue[int.Parse(fields[0])].Select(x => String.Format("{0}:{1}", x.Key, x.Value)).ToArray().Join());
//            Main.Logger.Log("FetchGangGroupValue:" + fields[0]);
        }
        public static void FetchEvent(string data)
        {
//            Main.Logger.Log("FetchEvent start:" + data);
            string[] fields = data.Split(',');
//            Main.Logger.Log("fields.Length = " + fields.Length);

            if (!DateFile.instance.eventDate.ContainsKey(int.Parse(fields[0]))) DateFile.instance.eventDate.Add(int.Parse(fields[0]),new Dictionary<int, string>());
//            Main.Logger.Log(DateFile.instance.eventDate[int.Parse(fields[0])].Select(x => String.Format("{0}:{1}", x.Key, x.Value)).ToArray().Join());

            for (int i = 2; i < fields.Length; i++)
            {

                if (!DateFile.instance.eventDate[int.Parse(fields[0])].ContainsKey(i - 1)) DateFile.instance.eventDate[int.Parse(fields[0])].Add(i - 1, "");
//                Main.Logger.Log("FetchEvent: fields[" + (i - 1).ToString() + "] '" + DateFile.instance.eventDate[int.Parse(fields[0])][i - 1] + "' > '" + fields[i] + "'");
                DateFile.instance.eventDate[int.Parse(fields[0])][i - 1] = fields[i];
                
            }
//            Main.Logger.Log("FetchEvent:" + fields[0]);
        }

    }
}
